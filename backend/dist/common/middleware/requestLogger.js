"use strict";var c=Object.create;var n=Object.defineProperty;var m=Object.getOwnPropertyDescriptor;var f=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,v=Object.prototype.hasOwnProperty;var O=(t,o)=>{for(var e in o)n(t,e,{get:o[e],enumerable:!0})},a=(t,o,e,d)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of f(o))!v.call(t,r)&&r!==e&&n(t,r,{get:()=>o[r],enumerable:!(d=m(o,r))||d.enumerable});return t};var P=(t,o,e)=>(e=t!=null?c(h(t)):{},a(o||!t||!t.__esModule?n(e,"default",{value:t,enumerable:!0}):e,t)),R=t=>a(n({},"__esModule",{value:!0}),t);var E={};O(E,{default:()=>D});module.exports=R(E);var l=require("pino-http");var i=P(require("dotenv")),s=require("envalid");i.default.config();var p=(0,s.cleanEnv)(process.env,{NODE_ENV:(0,s.str)({devDefault:(0,s.testOnly)("test"),choices:["development","production","test"]}),HOST:(0,s.host)({devDefault:(0,s.testOnly)("localhost")}),PORT:(0,s.port)({devDefault:(0,s.testOnly)(3e3)}),CORS_ORIGIN:(0,s.str)({devDefault:(0,s.testOnly)("http://localhost:3000")}),SECRET:(0,s.str)({devDefault:(0,s.testOnly)("")})});var w=(t,o)=>({error:o.locals.err,responseBody:o.locals.responseBody}),y=(t,o,e)=>{if(!p.isProduction){let r=o.send;o.send=function(u){return o.locals.responseBody=u,o.send=r,r.call(o,u)}}e()},C=t=>{let o={enabled:!0,customProps:w,customSuccessMessage:e=>`<- completed ${e.method}`,serializers:{req:e=>({id:e.raw.id,method:e.raw.method,url:e.raw.url,body:e.raw.body,authorization:e.raw.headers.authorization}),res:e=>({statusCode:e.raw.statusCode})},...t};return[y,(0,l.pinoHttp)(o)]},D=C();
